function v(u){const{mainButtonSelector:g,floatingButtonClass:b="floating-button",scrollOffset:w=40,footerOffset:m=50,onClick:h}=u,t=document.createElement("div");t.className="floating-button-container",document.body.appendChild(t);const s=document.createElement("button");s.className=`button ${b}`,t.appendChild(s),s.addEventListener("click",h);function c(){const e=document.querySelectorAll(g),a=document.querySelector("footer");if(e.length===0||window.innerWidth>768){t.classList.remove("visible");return}let d=!1;e.forEach(i=>{const n=i.getBoundingClientRect();n.top>=0&&n.bottom<=window.innerHeight&&(d=!0),n.bottom>window.innerHeight});let f=!1;a&&(f=a.getBoundingClientRect().top<window.innerHeight-m);let o=null;for(const i of e){const n=i.getBoundingClientRect();if(n.top<window.innerHeight&&n.bottom>0){o=i;break}}!o&&e.length>0&&(o=e[e.length-1]),o&&(s.innerHTML=o.innerHTML),d||f?t.classList.remove("visible"):t.classList.add("visible")}let l=!1;const r=()=>{l||(l=!0,requestAnimationFrame(()=>{c(),l=!1}))};window.addEventListener("scroll",r),window.addEventListener("resize",r),c()}export{v as i};
