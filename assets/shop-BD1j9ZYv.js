import{a as C,u as x}from"./header-DPdgbyRo.js";/* empty css                   */import{s as A}from"./notifications-Cp4frmnl.js";document.addEventListener("DOMContentLoaded",()=>{const g=document.querySelectorAll(".card"),s=document.querySelector(".cards"),h=Array.from(document.querySelectorAll(".card")),S=document.querySelector(".reset-button"),q=document.querySelectorAll("#reset-filters-button"),d=document.getElementById("no-results"),i=new URLSearchParams(window.location.search),n={category:i.get("category")||null,type:i.get("type")||null,price:i.get("price")||null};if(p(),["category","type","price"].forEach(o=>{if(n[o]){const t=document.querySelector(`#dropdown-${o} .dropdown-button`);t.querySelector(".dropdown-button__text").textContent=`${o.charAt(0).toUpperCase()+o.slice(1)}: ${n[o]}`,t.classList.add("active")}}),n.category){const o=document.querySelector("#dropdown-category .dropdown-button");o.querySelector(".dropdown-button__text").textContent=`Category: ${n.category}`,o.classList.add("active")}const y=new IntersectionObserver(o=>{o.forEach(t=>{t.isIntersecting&&(t.target.classList.add("fade-in--active"),y.unobserve(t.target))})},{threshold:.1});g.forEach(o=>{o.classList.add("fade-in"),y.observe(o)}),document.querySelectorAll(".card__controls-button").forEach(o=>{o.addEventListener("click",t=>{t.preventDefault();const e=o.closest(".card"),r={id:e.getAttribute("href").split("/").pop().replace(".html",""),name:e.querySelector(".card__name").textContent,description:e.querySelector(".card__description").textContent,price:parseFloat(e.querySelector(".card__price").textContent.replace("$","")),image:e.querySelector(".card__image").src,quantity:1,category:e.querySelector(".card__category")?.textContent||"Uncategorized"};C(r),A(`${r.name} added to cart!`)})});function p(){const o=Object.values(n).some(e=>e!==null);S.style.display=o?"block":"none";const t=h.filter(e=>{const r=!n.category||e.querySelector(".card__category").textContent===n.category,a=!n.type||e.querySelector(".card__type").textContent===n.type;parseFloat(e.querySelector(".card__price").textContent.replace("$",""));let c=!0;return(n.price==="High to Low"||n.price==="Low to High")&&(c=!0),r&&a&&c});n.price==="High to Low"?t.sort((e,r)=>{const a=parseFloat(e.querySelector(".card__price").textContent.replace("$",""));return parseFloat(r.querySelector(".card__price").textContent.replace("$",""))-a}):n.price==="Low to High"&&t.sort((e,r)=>{const a=parseFloat(e.querySelector(".card__price").textContent.replace("$","")),c=parseFloat(r.querySelector(".card__price").textContent.replace("$",""));return a-c}),s.innerHTML="",t.length===0?(d.style.display="flex",s.style.display="none"):(d.style.display="none",s.style.display="grid",t.forEach(e=>s.appendChild(e)))}d.style.display="none",s.style.display="grid";function u(o,t){const e=document.getElementById(o),r=e.querySelector(".dropdown-button");e.querySelector(".dropdown-content").querySelectorAll("a").forEach(l=>{l.addEventListener("click",_=>{_.preventDefault();const f=l.textContent;n[t]=f===n[t]?null:f,r.querySelector(".dropdown-button__text").textContent=n[t]?`${t.charAt(0).toUpperCase()+t.slice(1)}: ${n[t]}`:t.charAt(0).toUpperCase()+t.slice(1),n[t]?r.classList.add("active"):r.classList.remove("active"),e.classList.remove("open"),r.setAttribute("aria-expanded","false");const w=new URLSearchParams;Object.entries(n).forEach(([b,m])=>{m&&w.set(b,m)});const v=`${window.location.pathname}?${w.toString()}`;window.history.replaceState({},"",v),p()})})}u("dropdown-category","category"),u("dropdown-type","type"),u("dropdown-price","price"),q.forEach(o=>{o.addEventListener("click",()=>{Object.keys(n).forEach(t=>{n[t]=null}),document.querySelectorAll(".dropdown-button").forEach(t=>{const e=t.closest(".dropdown").id.replace("dropdown-",""),r=e.charAt(0).toUpperCase()+e.slice(1);t.querySelector(".dropdown-button__text").textContent=r,t.classList.remove("active")}),p(),window.history.replaceState({},"",window.location.pathname)})}),document.addEventListener("click",function(o){document.querySelectorAll(".dropdown.open").forEach(e=>{e.contains(o.target)||(e.classList.remove("open"),e.querySelector(".dropdown-button").setAttribute("aria-expanded","false"))});const t=o.target.closest(".dropdown-button");if(t){const r=t.closest(".dropdown").classList.toggle("open");t.setAttribute("aria-expanded",r?"true":"false")}}),document.querySelectorAll(".dropdown").forEach(o=>{const t=o.querySelector(".dropdown-button");o.querySelector(".dropdown-content");const e=o.querySelectorAll('[role="option"]');t.addEventListener("keydown",r=>{(r.key==="ArrowDown"||r.key==="ArrowUp")&&(r.preventDefault(),r.key==="ArrowDown"?e[0].focus():e[e.length-1].focus())}),e.forEach((r,a)=>{r.addEventListener("keydown",c=>{c.key==="ArrowDown"?(c.preventDefault(),(e[a+1]||e[0]).focus()):c.key==="ArrowUp"?(c.preventDefault(),(e[a-1]||e[e.length-1]).focus()):c.key==="Escape"&&(t.focus(),o.classList.remove("open"),t.setAttribute("aria-expanded","false"))})})}),x()});
